<!DOCTYPE html>
<html>
<head>
  <title>Users Table</title>
  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.dataTables.min.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f4f7f9;
    }

    .container {
      width: 100vw;
      height: 100vh;
      padding: 20px;
      box-sizing: border-box;
      position: relative;
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    .view-btn {
      padding: 5px 10px;
      border: none;
      border-radius: 5px;
      background-color: #28a745;
      color: #fff;
      cursor: pointer;
    }

    .view-btn:hover {
      background-color: #218838;
    }

    /* Logout button styling */
    .logout-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      padding: 8px 15px;
      border: none;
      border-radius: 5px;
      background-color: #dc3545;
      color: #fff;
      cursor: pointer;
      font-weight: bold;
    }

    .logout-btn:hover {
      background-color: #c82333;
    }
  </style>
</head>
<body>

  <div class="container">
    <button class="logout-btn" onclick="logout()">Logout</button>
    <h2>Users List</h2>

    <table id="usersTable" class="display nowrap" style="width:100%">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Role</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- JS Libraries -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>

  <script>
    // Sample users
    const users = [];
    for(let i=1; i<=100; i++){
      users.push({
        id: i,
        name: `User ${i}`,
        email: `user${i}@example.com`,
        role: i % 3 === 0 ? 'Admin' : (i % 3 === 1 ? 'Moderator' : 'User'),
        phone: `+92 300 ${1000000+i}`,
        address: `City ${i}`
      });
    }

    const tbody = document.querySelector("#usersTable tbody");

    users.forEach(user => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${user.id}</td>
        <td>${user.name}</td>
        <td>${user.email}</td>
        <td>${user.role}</td>
        <td><button class="view-btn" onclick="viewUser(${user.id})">View</button></td>
      `;
      tbody.appendChild(tr);
    });

    function viewUser(id){
      const user = users.find(u => u.id === id);
      localStorage.setItem('selectedUser', JSON.stringify(user));
      window.location.href = "user-details.html";
    }

    function logout() {
      alert("Logging out...");
      // Clear local storage or tokens if needed
      localStorage.clear();
      // Redirect to login page
      window.location.href = "login.html";
    }

    // Initialize DataTable
    $(document).ready(function() {
      $('#usersTable').DataTable({
        pageLength: 10,
        lengthMenu: [10, 25, 50, 100],
        responsive: true,
        ordering: true,
        searching: true
      });
    });
  </script>

</body>
</html>
